@page "/configuracoes"
@layout MainLayout

<div class="max-w-4xl mx-auto p-4 animate-fade-in space-y-6">
    <h1 class="text-2xl font-bold text-white">Configurações</h1>
    <p class="text-zinc-400 text-sm">Gerencie preferências da sua conta, aparência do sistema e configurações da
        secretaria.</p>

    <!-- Conta -->
    <div class="space-y-2">
        <h2 class="text-lg font-semibold text-yellow-400">Conta</h2>
        <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-zinc-800 rounded-xl p-4 shadow hover:shadow-lg transition cursor-pointer"
                 @onclick="@(() => AbrirAviso("Alterar senha"))">
                <p class="text-white font-medium">Alterar senha</p>
                <p class="text-sm text-zinc-400">Mude a senha de acesso ao sistema</p>
            </div>
        </div>
    </div>

    <!-- Sistema -->
    <div class="space-y-2 pt-6">
        <h2 class="text-lg font-semibold text-yellow-400">Sistema</h2>
        <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-zinc-800 rounded-xl p-4 shadow hover:shadow-lg transition cursor-pointer">
                <p class="text-white font-medium">Versão atual</p>
                <p class="text-sm text-zinc-400">v1.0.0</p>
            </div>
            <div class="bg-zinc-800 rounded-xl p-4 shadow hover:shadow-lg transition cursor-pointer"
                 @onclick="@(() => AbrirAviso("Relatar problema"))">
                <p class="text-white font-medium">Relatar problema</p>
                <p class="text-sm text-zinc-400">Nos avise se algo estiver errado</p>
            </div>
        </div>
    </div>

    <Modal @ref="_modalAviso" Title="@_title"
           Message="Função ainda será implementada. Em breve você poderá trocar sua senha por aqui."
           IsError="false" OnClose="FecharModalSenha"/>
</div>

@code {
    private Modal? _modalAviso;
    private string _title = string.Empty;

    private async Task AbrirAviso(string title)
    {
        _title = title;
        if (_modalAviso is not null)
            await _modalAviso.SetShowAsync(true);
    }

    private Task FecharModalSenha()
    {
        return Task.CompletedTask;
    }

}